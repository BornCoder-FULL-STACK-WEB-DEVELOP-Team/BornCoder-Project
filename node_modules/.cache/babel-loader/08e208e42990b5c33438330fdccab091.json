{"ast":null,"code":"var _jsxFileName = \"D:\\\\fullstack\\\\bookingapp\\\\my-app\\\\src\\\\Components\\\\Skills.js\";\nimport React, { Fragment } from 'react';\nimport { skills, skills_update, updatebutton } from '../Styles/Skills.module.scss';\nimport IconButton from '@material-ui/core/IconButton';\nimport CreateOutlinedIcon from '@material-ui/icons/CreateOutlined';\nimport { blueGrey } from '@material-ui/core/colors';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = theme => ({\n  button: {\n    backgroundColor: blueGrey[300]\n  }\n});\n\nclass Skills extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChange = event => {\n      console.log('Click');\n      this.setState({\n        textFieldValue: event.target.value\n      });\n    };\n\n    this.state = {\n      isToggleOn: false,\n      display: 'none',\n      textFieldValue: \"\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.saveClick = this.saveClick.bind(this);\n    this.cancelClick = this.saveClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState(prevState => ({\n      isToggleOn: !prevState.isToggleOn,\n      display: prevState.isToggleOn ? 'none' : 'block'\n    }));\n  }\n\n  cancelClick() {\n    this.setState(prevState => ({\n      isToggleOn: !prevState.isToggleOn,\n      display: prevState.isToggleOn ? 'none' : 'block'\n    }));\n  }\n\n  saveClick() {\n    this.setState(prevState => ({\n      isToggleOn: !prevState.isToggleOn,\n      display: prevState.isToggleOn ? 'none' : 'block'\n    }));\n    console.log('save');\n    console.log(this.state.textFieldValue);\n    this.setState({\n      count: this.state.count + 1\n    }, () => {\n      console.log(this.state);\n      this.refs.test.innerHTML = this.state.textFieldValue;\n      let content_name = {\n        description: this.state.textFieldValue\n      };\n      console.log(content_name); // The actual fetch request\n\n      fetch('http://localhost:8090/users/1', {\n        method: 'put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(content_name)\n      }).then(response => {\n        if (response.ok) {\n          response.json().then(data => {\n            console.log(data);\n            fetch('http://localhost:8090/users/1').then(response => response.json()).then(data => {\n              //console.log(data)\n              this.setState({\n                users: data\n              }); ////赋值到本地数据\n\n              console.log(this.state.users.userName);\n              const {\n                setValue\n              } = this.props;\n              setValue(this.state.users);\n            }).catch(e => console.log('错误:', e));\n          });\n        } else {\n          console.log(\"请求不成功，状态码为\", response.status);\n        }\n      }).catch(function (e) {\n        console.log(\"Oops, error\");\n      });\n    });\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: skills,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, \"ABOUT\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"skills\",\n      contentEditable: \"true\",\n      ref: \"test\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, this.props.value.description), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.handleClick,\n      className: classes.button + \" \" + updatebutton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CreateOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: skills_update,\n      style: {\n        display: this.state.display\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.upload_button,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"standard-basic\",\n      label: \"Description\",\n      onChange: this.handleOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: this.saveClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"Save\"))));\n  }\n\n}\n\nexport default withStyles(useStyles)(Skills);","map":{"version":3,"sources":["D:/fullstack/bookingapp/my-app/src/Components/Skills.js"],"names":["React","Fragment","skills","skills_update","updatebutton","IconButton","CreateOutlinedIcon","blueGrey","withStyles","Button","TextField","useStyles","theme","button","backgroundColor","Skills","Component","constructor","props","handleOnChange","event","console","log","setState","textFieldValue","target","value","state","isToggleOn","display","handleClick","bind","saveClick","cancelClick","prevState","count","refs","test","innerHTML","content_name","description","fetch","method","headers","body","JSON","stringify","then","response","ok","json","data","users","userName","setValue","catch","e","status","render","classes","upload_button"],"mappings":"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","sourcesContent":["import React,{ Fragment } from 'react';\r\nimport {skills,skills_update,updatebutton} from '../Styles/Skills.module.scss';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CreateOutlinedIcon from '@material-ui/icons/CreateOutlined';\r\nimport {blueGrey} from '@material-ui/core/colors';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = theme => ({\r\n    button:{\r\n      backgroundColor:blueGrey[300],\r\n    },\r\n  });\r\n\r\n  class Skills extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          isToggleOn: false,\r\n          display: 'none',\r\n          textFieldValue:\"\",\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.saveClick= this.saveClick.bind(this);\r\n        this.cancelClick= this.saveClick.bind(this);\r\n      }\r\n\r\n    handleOnChange = event => {\r\n        console.log('Click');\r\n        this.setState({textFieldValue:event.target.value});  \r\n       \r\n      };\r\n\r\n      handleClick() {\r\n        this.setState(prevState => ({\r\n          isToggleOn: !prevState.isToggleOn,\r\n          display: prevState.isToggleOn ? 'none': 'block'\r\n        }));\r\n    \r\n      }\r\n    \r\n      cancelClick(){\r\n        this.setState(prevState => ({\r\n          isToggleOn: !prevState.isToggleOn,\r\n          display: prevState.isToggleOn ? 'none': 'block'\r\n        }));\r\n      }\r\n    \r\n      saveClick() {\r\n        this.setState(prevState => ({\r\n          isToggleOn: !prevState.isToggleOn,\r\n          display: prevState.isToggleOn ? 'none': 'block'\r\n        }));\r\n        console.log('save');\r\n        console.log(this.state.textFieldValue);\r\n        this.setState({count: this.state.count + 1},()=>{\r\n          console.log(this.state);\r\n          this.refs.test.innerHTML=this.state.textFieldValue;\r\n          let content_name = {description: this.state.textFieldValue};\r\n          console.log(content_name);\r\n           // The actual fetch request\r\n           \r\n        fetch('http://localhost:8090/users/1', {\r\n          method: 'put',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(content_name)\r\n        }).then(response => {\r\n          if(response.ok) {\r\n              response.json().then(data => {\r\n                  console.log(data);\r\n                  fetch( 'http://localhost:8090/users/1')\r\n                    .then(response => response.json())\r\n                    .then(data =>{\r\n                    //console.log(data)\r\n                    this.setState({users: data})  ////赋值到本地数据\r\n                    console.log(this.state.users.userName)\r\n                    const { setValue } = this.props;\r\n                    setValue(this.state.users);\r\n                    }).catch(e => console.log('错误:', e))  \r\n              });\r\n          } else {\r\n              console.log(\"请求不成功，状态码为\", response.status);\r\n          }\r\n        }).catch(function(e) {\r\n          console.log(\"Oops, error\");\r\n        });\r\n         });\r\n    \r\n      }\r\n    render(){\r\n        const { classes } = this.props;\r\n    return ( \r\n        <Fragment>\r\n        <div className={skills}>\r\n            <div>ABOUT</div>\r\n            <div className=\"skills\" contentEditable='true' ref='test'>\r\n            {/*{this.state.users.userName}*/}\r\n            {this.props.value.description}\r\n            </div> \r\n            <IconButton onClick={this.handleClick} className={classes.button+\" \"+updatebutton}>\r\n                <CreateOutlinedIcon />\r\n            </IconButton>\r\n        </div>\r\n        <div className={skills_update} \r\n            style={{display: this.state.display}}>    \r\n            <div className={classes.upload_button}>\r\n            <TextField id=\"standard-basic\" label=\"Description\" onChange={this.handleOnChange} />\r\n            <Button variant=\"contained\" onClick={this.handleClick}>\r\n            Cancel\r\n            </Button>\r\n            <Button variant=\"contained\" onClick={this.saveClick}>\r\n                Save\r\n            </Button>\r\n            </div>\r\n        </div>\r\n    </Fragment>\r\n      );\r\n    }\r\n\r\n  }\r\n\r\nexport default withStyles(useStyles)(Skills);"]},"metadata":{},"sourceType":"module"}